<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>WHAT AM I ? - Edward Nygma</title><meta name="author" content="Edward Nygma"><meta name="copyright" content="Edward Nygma"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="The RiddlerShow">
<meta property="og:type" content="website">
<meta property="og:title" content="WHAT AM I ?">
<meta property="og:url" content="https://theriddler-edwardnygma.github.io/index.html">
<meta property="og:site_name" content="WHAT AM I ?">
<meta property="og:description" content="The RiddlerShow">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://theriddler-edwardnygma.github.io/img/logo.png">
<meta property="article:author" content="Edward Nygma">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://theriddler-edwardnygma.github.io/img/logo.png"><link rel="shortcut icon" href="/img/logo0.png"><link rel="canonical" href="https://theriddler-edwardnygma.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'WHAT AM I ?',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-11-04 01:21:14'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/source/myconfig/mousebigger.css?1"><link rel="stylesheet" href="/source/myconfig/centermenu.css"?1><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/logo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/background1.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="WHAT AM I ?"><img class="site-icon" src="/img/logo0.png"/><span class="site-name">WHAT AM I ?</span></a></span><div id="menus"><!--!=partial('includes/header/menu_item', {}, {cache: true})--><!--#nav-right--><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">WHAT AM I ?</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/TheRiddler-EdwardNygma" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/11/03/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E5%9C%BA%E6%99%AF%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%20%20%E4%BB%A5%E5%8F%8A%E5%BC%95%E5%87%BA%E7%9A%84Spring%E5%BA%95%E5%B1%82%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86%E5%BD%BB%E5%BA%95%E5%88%86%E6%9E%90/" title="Spring事务失效的情况，场景和解决办法  以及引出的Spring底层注入原理彻底分析">Spring事务失效的情况，场景和解决办法  以及引出的Spring底层注入原理彻底分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-11-03T15:52:12.000Z" title="发表于 2025-11-03 23:52:12">2025-11-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">Spring 事务失效的3大情况概览
方法内自调用
解决办法：

把调用方法拆分到另外一个bean中
自己注入自己（Spring的缓存机制能够避免循环依赖，不放心可以加@Lazy注解）
AopContext.currentProxy()方法获取当前的代理对象，用这个方法启动类要加注解@EnableAspectJAutoProxy(exposeProxt &#x3D; true)，同时也要引一下依赖


方法是private 或 final 的，代理对象就不能重写这个方法了，因此调用它的时候，实际调用的是extends的父类的普通方法

单独的线程调用方法：
当MyBatis执行sql的时候，会从ThreadLocal中获取数据库连接对象，如果开启事务的线程和执行SQL的线程是同一个，就能拿到数据库连接对象，如果不是同一个线程，就拿不到，这时会新建一个数据库连接，这个数据库链接默认直接提交
解决方法：不能在事务方法内开启多线程操作数据库，可以开启多线程给每个线程添加事务


Spring底层注入和事务注解的剖析Spring的注入过程：由表入里，层层递进，直至底层
从底层开始注入，底层注入 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/30/Nacos%E8%BF%9B%E9%98%B6/" title="网关路由、统一鉴权与动态配置管理">网关路由、统一鉴权与动态配置管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-10-30T02:58:21.000Z" title="发表于 2025-10-30 10:58:21">2025-10-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">Spring Cloud微服务 —— 网关路由、统一鉴权与动态配置管理
一、问题引入：微服务拆分后的痛点


模块
服务名称



用户服务
user-service


商品服务
item-service


购物车服务
cart-service


交易服务
trade-service


支付服务
pay-service


拆分后出现了几个常见问题 
问题一：前端访问困难
每个微服务的端口不同，前端要维护多个地址；
前端无法通过 Nacos 获取实时服务列表。

问题二：身份认证割裂单体架构下只需登录一次即可共享用户信息； 而微服务拆分后，每个服务都需要单独做登录校验与用户信息传递。

解决方案：使用微服务网关 Gateway！


二、网关路由（Gateway Routing）2.1 网关是什么？网关（Gateway）是微服务系统的统一入口，承担以下功能：

请求转发与路由；
登录校验与权限控制；
日志记录与限流。

 类比现实：

网关就像园区传达室的大爷，所有人（请求）都得先经过他：

不合法的请求会被拦截；
合法请求会被带到对应的服务。


2.2 Spring Clo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/30/Nacos/" title="SpringCloud 微服务——Nacos 与 OpenFeign 详解">SpringCloud 微服务——Nacos 与 OpenFeign 详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-10-30T02:34:56.000Z" title="发表于 2025-10-30 10:34:56">2025-10-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">SpringCloud 微服务——Nacos 与 OpenFeign 详解一、微服务通信的基础：服务注册与发现在微服务架构中，系统被拆分为多个独立的服务（如用户服务、商品服务、订单服务等）。 为了让这些服务能够相互调用，就需要一个注册中心（Registry）来管理服务实例的注册和发现。
注册中心原理注册中心的核心流程包括三部分：

服务注册（Service Registration） 各个微服务在启动时，将自己的 IP、端口、服务名等信息注册到注册中心。
服务发现（Service Discovery） 其他服务在调用时，先向注册中心查询要调用的服务地址。
健康检测与剔除（Health Check） 注册中心定期检测服务是否存活，失效的实例会被剔除。


二、Nacos 注册中心详解1. Nacos 简介Nacos 是阿里巴巴开源的动态服务发现与配置管理平台，兼容 Spring Cloud Alibaba 生态。
功能包括：

服务注册与发现
配置管理
动态负载均衡
健康检测


2. 项目中引入 Nacos① 添加依赖在微服务的 pom.xml 中引入：
1234&lt;depende ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/29/JDK%E6%96%B0%E7%89%B9%E6%80%A7/" title="JDK新特性">JDK新特性</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-10-29T04:06:31.000Z" title="发表于 2025-10-29 12:06:31">2025-10-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">Lambda表达式首先明确一点：Lambda表达式是由匿名内部类传参简化而来
使用lambda表达式的场景：
函数式接口做方法参数传递
(只要是想new一个函数式接口，就能用lambda，只是用的时候大多出现在传递参数的时候)
什么是函数式接口 ——&gt; 一个接口有且仅有一个重写方法 可以用过在接口上加上@FunctionalInterface注解来判断
举个例子：
12345678910111213141516171819202122public class Test &#123;	public static void main(String [] args)&#123;        new Thread(            new Runnable()&#123;                @Override                public void run &#123;                    System.out.println(&quot;a new thread&quot;);                &#125;        ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/19/Docker/" title="Docker">Docker</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-10-19T11:12:56.000Z" title="发表于 2025-10-19 19:12:56">2025-10-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">Docker命令树：123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475Docker 命令树│├── 镜像管理 (Images)│   ├── docker search [镜像名]           # 从仓库搜索镜像│   ├── docker pull [镜像名]:[标签]      # 拉取镜像│   ├── docker images                    # 列出本地镜像│   ├── docker rmi [镜像ID/名]          # 删除镜像│   ├── docker build -t [镜像名] [路径]  # 构建镜像│   ├── docker tag [旧名] [新名]        # 给镜像打新标签│   └── docker save -o [文件.tar] [镜像] # 导出镜像│├── 容器生命周 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/18/MyBatisPlus_Stream%E6%B5%81_Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="MyBatisPlus">MyBatisPlus</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-10-18T07:01:22.000Z" title="发表于 2025-10-18 15:01:22">2025-10-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">MybatisPlusMP引入Mp的使用：
1.mapper层：继承BasMapper接口
2.service层：service接口实现IService接口，service实现类继承IServiceImpl实现类
Mp将实体类和数据库表明对应的约定：

MybatisPlus会把PO实体的类名驼峰转下划线作为表名
MybatisPlus会把PO实体的所有变量名驼峰转下划线作为表的字段名，并根据变量类型推断字段类型
MybatisPlus会把名为id的字段作为主键

常见注解：
@TableName 当实体类名称和数据库名称不一致时，使用该注解可以指定实体类对应的数据库表名
@TableId 一个作用是指定id，另一个作用是规定id的增长逻辑，没有指定默认是雪花算法：



值
描述



AUTO
数据库 ID 自增


NONE
无状态，该类型为未设置主键类型（注解里等于跟随全局，全局里约等于 INPUT）


INPUT
insert 前自行 set 主键值


ASSIGN_ID
分配 ID(主键类型为 Number(Long 和 Integer)或 String)(since  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/09/15/GORM/" title="GORM">GORM</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-09-15T13:32:09.000Z" title="发表于 2025-09-15 21:32:09">2025-09-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">GORM快速使用导包
1234import (  &quot;gorm.io/driver/mysql&quot;  &quot;gorm.io/gorm&quot;)

模型相关一言以蔽之，GORM中，使用模型所实现的效果，就相当于 Java Mybatis 中，自动把对象中的属性变成 数据库字段 &#x2F;把数据库字段变成属性
名称相关
属性名 &#x2F; 字段名

GORM中也实现了 结构体字段驼峰命名 &lt;——&gt; 数据库字段 小写+下划线 命名的相互转化
如果结构体中的命名和数据库字段命名不只是这种差异，则默认无法映射
在Java中，对于这样的字段我们使用@Param注解，而在go中，我们为结构体参数配置Tag：
1CreateTime int64 `gorm:&quot;column:createtime&quot;` //必须把column加上

而go的Tag还不止这一个作用，因为gorm还可以创建表，所以后面还可以跟建表属性
1gorm:&quot;column:id; PRIMARY_KEY&quot;

此外，有的时候结构体和数据库并不是完全一样的，这 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/09/15/%E8%8B%8D%E7%A9%B9day2-3/" title="苍穹day2-3">苍穹day2-3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-09-15T13:32:09.000Z" title="发表于 2025-09-15 21:32:09">2025-09-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">苍穹Day2-3swagger在controller接口方法上加上注解：
1@ApiOperation(&quot;接口名&quot;)

公共字段自动填充 ——AOP 反射 注解 枚举1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980package com.sky.aspect;import com.sky.annotation.AutoFill;import com.sky.context.BaseContext;import com.sky.enums.UpdateOrInsert;import com.sky.interceptor.JwtTokenAdminInterceptor;import lombok.extern.slf4j.Slf4j;import org.aspectj.lang.JoinPoint;import o ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/09/14/AOP/" title="AOP">AOP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-09-14T15:25:09.000Z" title="发表于 2025-09-14 23:25:09">2025-09-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">AOP基础SpringAOP实现步骤
导入依赖：在 pom.xml 文件中导入 AOP 的依赖
1234&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;

在类名上加@Aspect注解
在方法名上加具体AOP方法注解
123456789101112131415161718192021@Component@Aspect //当前类为切面类@Slf4jpublic class RecordTimeAspect &#123;    @Around(&quot;execution(* com.itheima.service.impl.DeptServiceImpl.*(..))&quot;)    public Object recordTime(ProceedingJoinPoint pjp) throws Throwabl ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/09/14/ThreadLocal/" title="ThreadLocal">ThreadLocal</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-09-14T15:25:09.000Z" title="发表于 2025-09-14 23:25:09">2025-09-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="content">
ThreadLocal 深度解析1. 核心概念
作用：为每个线程提供独立的变量副本，解决多线程并发访问共享变量的冲突问题。
本质：线程级别的全局变量（线程隔离的全局存储）。

2. 底层原理12345678public class ThreadLocal&lt;T&gt; &#123;    // 关键：每个Thread对象内部维护一个ThreadLocalMap    public void set(T value) &#123;        Thread t = Thread.currentThread();        ThreadLocalMap map = t.threadLocals; // 获取线程专属的Map        map.set(this, value); // 以ThreadLocal实例为key存储值    &#125;&#125;


存储结构：
每个 Thread 对象内部有一个 ThreadLocalMap（类似HashMap但更简单）。
Key：ThreadLocal 实例（弱引用），Value：线程的变量副本。



3. 使用场景


场 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Edward Nygma</div><div class="author-info__description">The RiddlerShow</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/TheRiddler-EdwardNygma" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/03/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E5%9C%BA%E6%99%AF%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%20%20%E4%BB%A5%E5%8F%8A%E5%BC%95%E5%87%BA%E7%9A%84Spring%E5%BA%95%E5%B1%82%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86%E5%BD%BB%E5%BA%95%E5%88%86%E6%9E%90/" title="Spring事务失效的情况，场景和解决办法  以及引出的Spring底层注入原理彻底分析">Spring事务失效的情况，场景和解决办法  以及引出的Spring底层注入原理彻底分析</a><time datetime="2025-11-03T15:52:12.000Z" title="发表于 2025-11-03 23:52:12">2025-11-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/30/Nacos%E8%BF%9B%E9%98%B6/" title="网关路由、统一鉴权与动态配置管理">网关路由、统一鉴权与动态配置管理</a><time datetime="2025-10-30T02:58:21.000Z" title="发表于 2025-10-30 10:58:21">2025-10-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/30/Nacos/" title="SpringCloud 微服务——Nacos 与 OpenFeign 详解">SpringCloud 微服务——Nacos 与 OpenFeign 详解</a><time datetime="2025-10-30T02:34:56.000Z" title="发表于 2025-10-30 10:34:56">2025-10-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/29/JDK%E6%96%B0%E7%89%B9%E6%80%A7/" title="JDK新特性">JDK新特性</a><time datetime="2025-10-29T04:06:31.000Z" title="发表于 2025-10-29 12:06:31">2025-10-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/19/Docker/" title="Docker">Docker</a><time datetime="2025-10-19T11:12:56.000Z" title="发表于 2025-10-19 19:12:56">2025-10-19</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">学习笔记</span><span class="card-category-list-count">30</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/OpenFeign/" style="font-size: 1.1em; color: #999">OpenFeign</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.1em; color: #999">多线程</a> <a href="/tags/STM32%E5%AD%A6%E4%B9%A0/" style="font-size: 1.34em; color: #99a3b0">STM32学习</a> <a href="/tags/AOP/" style="font-size: 1.18em; color: #999ca1">AOP</a> <a href="/tags/SpringBoot/" style="font-size: 1.1em; color: #999">SpringBoot</a> <a href="/tags/JAVA/" style="font-size: 1.18em; color: #999ca1">JAVA</a> <a href="/tags/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" style="font-size: 1.1em; color: #999">苍穹外卖</a> <a href="/tags/Stream%E6%B5%81/" style="font-size: 1.18em; color: #999ca1">Stream流</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 1.1em; color: #999">注解</a> <a href="/tags/C/" style="font-size: 1.1em; color: #999">C++</a> <a href="/tags/%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8/" style="font-size: 1.1em; color: #999">方法引用</a> <a href="/tags/MybatisPlus/" style="font-size: 1.1em; color: #999">MybatisPlus</a> <a href="/tags/Spring%E4%BA%8B%E5%8A%A1/" style="font-size: 1.1em; color: #999">Spring事务</a> <a href="/tags/Golang/" style="font-size: 1.26em; color: #999fa8">Golang</a> <a href="/tags/GORM/" style="font-size: 1.1em; color: #999">GORM</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 1.42em; color: #99a6b7">数据结构与算法</a> <a href="/tags/%E7%BB%86%E8%8A%82%E8%BE%A8%E6%9E%90/" style="font-size: 1.1em; color: #999">细节辨析</a> <a href="/tags/Java/" style="font-size: 1.5em; color: #99a9bf">Java</a> <a href="/tags/Docker/" style="font-size: 1.1em; color: #999">Docker</a> <a href="/tags/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 1.18em; color: #999ca1">Lambda表达式</a> <a href="/tags/CMake/" style="font-size: 1.18em; color: #999ca1">CMake</a> <a href="/tags/mySql/" style="font-size: 1.1em; color: #999">mySql</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 1.34em; color: #99a3b0">微服务</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 1.1em; color: #999">反射</a> <a href="/tags/%E6%82%B2%E8%A7%82%E9%94%81/" style="font-size: 1.1em; color: #999">悲观锁</a> <a href="/tags/golang/" style="font-size: 1.1em; color: #999">golang</a> <a href="/tags/%E8%BF%91%E4%B8%96%E4%BB%A3%E6%95%B0/" style="font-size: 1.34em; color: #99a3b0">近世代数</a> <a href="/tags/Nacos/" style="font-size: 1.18em; color: #999ca1">Nacos</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">十月 2025</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">34</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">85.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-11-03T17:21:14.218Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: url(/img/r.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Edward Nygma</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["I feel your every move, I know your every thought, I'm with you from birth, and I'll see you when you rot. What am I?","A Reflection","I am the son of water, but if water touches me, I die. What am I?","Salt","You struggle to regain me. When I'm lost, You struggle to obtain me. What am I?——time","TIME","I can fill a room or just one heart. Others may have me, but I cannot be shared. What am I?","loneliness","I can be a member of a group, but I can never blend in. What am I?","An Individual","I can sneak up on you, or be right in front of you without you even knowing. But when I reveal myself, you will never be the same. What am I?","Betrayal","I can bring tears to your eyes and resurrect the dead, I form in an instant and last a lifetime. What am I?","A Memory","A diamond plate, a glowing grate, a place you never leave.Where am I?","home","I'm strong as a rock, but a word can destroy me. What am I?","silence","I take you by night, by day take you back.None suffer to have me, but do from my lack. What am I?","sleep","Some people's nightmare, some people's savior my hand cold and despair, into the warm heart","death","Without fingers I point, without arms I strike, without feet I run.","clock","If you know me, you want to share me. If you share me, I will disappear. Who am I","secret","What'sgreenand then red?","Frogs in a blender","What'sstrongenough to smash ships but still fears the sun?","ice","The less youhave,themorethey'reworth","friends","What do you call a three-legged cow?","dinner","What must be broken before it can be used?","eggs","Light as a feather,yet no man can hold itlong.What am I?","your breath"])
  } else {
    document.getElementById("subtitle").textContent = "I feel your every move, I know your every thought, I'm with you from birth, and I'll see you when you rot. What am I?"
  }
}
typedJSFn.run(subtitleType)</script></div><script>window.addEventListener('load', () => {
  const changeContent = content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = async () => {
    try {
      const res = await fetch('https://waline233.vercel.app/api/comment?type=recent&count=6', { method: 'GET' })
      const result = await res.json()
      const walineArray = result.data.map(e => {
        return {
          'content': changeContent(e.comment),
          'avatar': e.avatar,
          'nick': e.nick,
          'url': e.url + '#' + e.objectId,
          'date': e.time || e.insertedAt
        }
      })
      saveToLocal.set('waline-newest-comments', JSON.stringify(walineArray), 3/(60*24))
      generateHtml(walineArray)
    } catch (err) {
      console.error(err)
      const $dom = document.querySelector('#card-newest-comments .aside-list')
      $dom.textContent= "无法获取评论，请确认相关配置是否正确"
    }
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('waline-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="What,am,I,？" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>